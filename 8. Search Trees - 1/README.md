Задача A. Простое двоичное дерево поиска
ограничение по времени на тест
2 секунды
ограничение по памяти на тест
512 мегабайт
ввод
стандартный ввод
вывод
стандартный вывод

Реализуйте просто двоичное дерево поиска.
Входные данные

Входной файл содержит описание операций с деревом, их количество не превышает 100. В каждой строке находится одна из следующих операций:

    insert 𝑥

 — добавить в дерево ключ 𝑥. Если ключ 𝑥
есть в дереве, то ничего делать не надо;
delete 𝑥
 — удалить из дерева ключ 𝑥. Если ключа 𝑥
в дереве нет, то ничего делать не надо;
exists 𝑥
 — если ключ 𝑥
есть в дереве выведите «true», если нет «false»;
next 𝑥
 — выведите минимальный элемент в дереве, строго больший 𝑥
, или «none» если такого нет;
prev 𝑥
 — выведите максимальный элемент в дереве, строго меньший 𝑥

    , или «none» если такого нет. 

В дерево помещаются и извлекаются только целые числа, не превышающие по модулю 109
.
Выходные данные

Выведите последовательно результат выполнения всех операций exists, next, prev. Следуйте формату выходного файла из примера.





Задача B. Сбалансированное двоичное дерево поиска
ограничение по времени на тест
2 секунды
ограничение по памяти на тест
512 мегабайт
ввод
стандартный ввод
вывод
стандартный вывод

Реализуйте сбалансированное двоичное дерево поиска.
Входные данные

Входной файл содержит описание операций с деревом, их количество не превышает 105

. В каждой строке находится одна из следующих операций:

    insert 𝑥

 — добавить в дерево ключ 𝑥. Если ключ 𝑥
есть в дереве, то ничего делать не надо;
delete 𝑥
 — удалить из дерева ключ 𝑥. Если ключа 𝑥
в дереве нет, то ничего делать не надо;
exists 𝑥
 — если ключ 𝑥
есть в дереве выведите «true», если нет «false»;
next 𝑥
 — выведите минимальный элемент в дереве, строго больший 𝑥
, или «none» если такого нет;
prev 𝑥
 — выведите максимальный элемент в дереве, строго меньший 𝑥

    , или «none» если такого нет. 

В дерево помещаются и извлекаются только целые числа, не превышающие по модулю 109
.
Выходные данные

Выведите последовательно результат выполнения всех операций exists, next, prev. Следуйте формату выходного файла из примера.




Задача С 𝐾
-й максимум
ограничение по времени на тест
2 секунды
ограничение по памяти на тест
512 мегабайт
ввод
стандартный ввод
вывод
стандартный вывод

Напишите программу, реализующую структуру данных, позволяющую добавлять и удалять элементы, а также находить 𝑘

-й максимум.
Входные данные

Первая строка входного файла содержит натуральное число 𝑛
 — количество команд (𝑛≤100000). Последующие 𝑛 строк содержат по одной команде каждая. Команда записывается в виде двух чисел 𝑐𝑖 и 𝑘𝑖 — тип и аргумент команды соответственно (|𝑘𝑖|≤109

). Поддерживаемые команды:

    +1 (или просто 1): Добавить элемент с ключом 𝑘𝑖

.
 0: Найти и вывести 𝑘𝑖
-й максимум.
-1: Удалить элемент с ключом 𝑘𝑖

    . 

Гарантируется, что в процессе работы в структуре не требуется хранить элементы с равными ключами или удалять несуществующие элементы. Также гарантируется, что при запросе 𝑘𝑖

-го максимума, он существует.
Выходные данные

Для каждой команды нулевого типа в выходной файл должна быть выведена строка, содержащая единственное число — 𝑘𝑖
-й максимум.
